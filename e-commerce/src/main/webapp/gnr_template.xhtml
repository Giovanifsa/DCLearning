<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" 
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>E-Commerce</title>

	<h:outputStylesheet library="css" name="background.css" />
	
	<ui:insert name="head" />
</h:head>

<h:body>
	<div class="bg">
		<b:navBar id="templateNavbar" brand="E-Commerce" brand-img="#{request.contextPath}/resources/images/ecommerce.png" brand-img-style="height:25px"
			brandHref="loja.xhtml" inverse="true" style="background-color:#003366" brand-align="left" fluid="true" fixed="top" sticky="true" binding="#{templateBean.templateNavbar}">
			
			<!--
			<b:navbarLinks>
				<b:navLink value="Loja" href="loja.xhtml" active="#{view.viewId == '/loja.xhtml'}" />
			</b:navbarLinks>
			-->

			<b:form>
				<b:navbarLinks pull="right">
					<b:navLink value="Carrinho (#{carrinhoBean.getQuantidadeItens()} itens - R$ #{carrinhoBean.calcularPrecoFinal()})" href="carrinhoCompras.xhtml" iconAwesome="shopping-cart"
						active="#{view.viewId == '/carrinhoCompras.xhtml'}"/>
				
					<b:dropMenu value="#{loginBean.usuarioLogado.nome}" iconAwesome="user-circle" rendered="#{loginBean.usuarioEstaLogado()}">
						<b:navLink value="Suas lojas" href="novaLoja.xhtml"/>
						<b:navLink value="Seus produtos" href="novoProduto.xhtml"/>
						<b:navLink value="Seus pedidos" href="pedidos.xhtml"/>
					</b:dropMenu>
					
					<b:navLink value="Iniciar sessÃ£o" href="login.xhtml" rendered="#{loginBean.usuarioEstaLogado() == false and view.viewId != '/login.xhtml'}" />
					
					<b:navCommandLink value="Sair" href="#" action="#{loginBean.finalizarSessao()}" rendered="#{loginBean.usuarioEstaLogado()}" />
				</b:navbarLinks>
			</b:form>
			
			<h:form styleClass="navbar-form navbar-right">
			    <div class="form-group">
			    	<b:inputText placeholder="Procure por um produto" fieldSize="md" value="#{templateBean.navbarTextoPesquisa}"/>
			    </div>
			    
			    <b:commandButton action="#{templateBean.pesquisarProduto()}" value="Pesquisar" look="info" iconAwesome="search"/>
		    </h:form>
		</b:navBar>
		
		<b:messages for="templateNavbar" escape="true"/>
		
		<b:form binding="#{templateBean.formGrowlSuperiorEsquerdo}">
			<b:growl for="@parent" placementFrom="top" placement-align="left" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>
		
		<b:form binding="#{templateBean.formGrowlSuperiorDireito}">
			<b:growl for="@parent" placementFrom="top" placementAlign="right" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>
		
		<b:form binding="#{templateBean.formGrowlSuperiorCentro}">
			<b:growl for="@parent" placementFrom="top" placement-align="center" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>
		
		<b:form binding="#{templateBean.formGrowlInferiorEsquerdo}">
			<b:growl for="@parent" placementFrom="top" placement-align="left" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>
		
		<b:form binding="#{templateBean.formGrowlInferiorDireito}">
			<b:growl for="@parent" placementFrom="top" placement-align="right" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>
		
		<b:form binding="#{templateBean.formGrowlInferiorCentro}">
			<b:growl for="@parent" placementFrom="top" placement-align="center" show-detail="false" global-only="false" show-summary="true" allow-dismiss="true"
		         animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
		</b:form>

		<ui:insert name="body"></ui:insert>
	</div>
</h:body>
</html>
